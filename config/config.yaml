# 定时拍照 + LLM 描述
interval: 60  # 拍照间隔（秒）
output_dir: "photos"
log_dir: "logs"

# 输入源设置
source:
  type: "stream"  # local (本地摄像头) / stream (网络流)
  stream_url: "http://192.168.1.15:8554/stream"  # Mac 摄像头流地址

# LLM 配置
llm:
  provider: "siliconflow"  # openai / anthropic / siliconflow
  api_key: "${SILICONFLOW_API_KEY}"  # 从环境变量读取
  model: "Qwen/Qwen2.5-VL-72B-Instruct"  # 硅基流动视觉模型
  base_url: "https://api.siliconflow.cn/v1"

# 图像设置
image:
  format: "jpg"
  quality: 85
  width: 1280
  height: 720

# Telegram 可选
telegram:
  enabled: false
  bot_token: "${TELEGRAM_BOT_TOKEN}"
  chat_id: "${TELEGRAM_CHAT_ID}"

# 异常检测
detection:
  enabled: true
  notify_on_anomaly: true
  # 黑屏检测配置
  black_screen:
    enabled: true
    threshold: 30  # 亮度阈值 (0-255)，低于此值认为暗
    dark_pixel_ratio: 0.9  # 暗像素比例阈值
  # 闪断检测 (进阶)
  flicker:
    enabled: false
    consecutive_frames: 3  # 连续多少帧黑屏判定为闪断
